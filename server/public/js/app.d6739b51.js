(function(){"use strict";var t={7062:function(t,e,a){var s=a(144),r=a(3726),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e(r.Z,[e("router-view")],1)],1)},o=[],n={name:"App",mounted(){try{navigator.geolocation.getCurrentPosition((t=>{localStorage.setItem("startingLat",t.coords.latitude),localStorage.setItem("startingLng",t.coords.longitude)}))}catch(t){localStorage.setItem("startingLat",43.03821660000001),localStorage.setItem("startingLng",-71.4493554),console.warn(t)}}},l=n,c=a(1001),d=(0,c.Z)(l,i,o,!1,null,null,null),u=d.exports,h=a(154);s.ZP.use(h.Z);var m=new h.Z({}),g=a(8345),p=a(4643),f=a(9088),w=a(3298),v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home center",style:t.scaleStyle},[t.$vuetify.breakpoint.mdAndUp?e("div",{staticClass:"planet",style:t.transitioningLocation?{opacity:0}:{}}):t._e(),e("div",{staticClass:"login ma-5",style:t.transitioningLocation?{opacity:0}:{}},[t.user?e(p.Z,{staticClass:"white--text text-h5 font-weight-bold",attrs:{text:""},on:{click:function(e){return e.stopPropagation(),t.profile.apply(null,arguments)}}},[e(f.Z,{staticClass:"mr-2",attrs:{large:""}},[t._v("mdi-account-check")]),t._v(" "+t._s(t.user)+" ")],1):e(p.Z,{staticClass:"white--text text-h5 font-weight-bold",attrs:{text:""},on:{click:function(e){return e.stopPropagation(),t.login.apply(null,arguments)}}},[e(f.Z,{staticClass:"mr-2",attrs:{large:""}},[t._v("mdi-account")]),t._v(" Log In ")],1)],1),e("div",{staticClass:"search",style:t.transitioningLocation?{opacity:0}:{}},[e(p.Z,{staticStyle:{position:"absolute",top:"0",left:"-70px"},attrs:{fab:"",dark:"",color:t.showBudget?"secondary":"primary"},on:{click:function(e){t.showBudget=!t.showBudget}}},[t.showBudget?e(f.Z,{attrs:{large:""}},[t._v("mdi-chevron-up")]):e(f.Z,{attrs:{large:""}},[t._v("mdi-currency-usd")])],1),e(p.Z,{staticStyle:{position:"absolute",top:"0",right:"-70px"},attrs:{color:t.showTransitMode?"secondary":"purple",fab:"",dark:""},on:{click:function(e){t.showTransitMode=!t.showTransitMode}}},[t.showTransitMode?e(f.Z,{attrs:{large:""}},[t._v("mdi-chevron-down")]):e(f.Z,{attrs:{large:""}},[t._v("mdi-"+t._s(t.selectedTransit))])],1),e(w.Z,{staticStyle:{"z-index":"2"},attrs:{id:"autocomplete",filled:"",solo:"",dark:"",label:"Enter a location","prepend-inner-icon":"mdi-map-marker"}}),e("div",{staticClass:"transit-container pa-2",style:t.transitOnDisplay},t._l(t.transitModes,(function(a){return e("div",{key:a},[e(f.Z,{staticClass:"mx-5",style:t.selectedTransit===a?"":"opacity: 0.33",attrs:{large:"",color:"white"},on:{click:function(e){t.selectedTransit=a}}},[t._v(t._s("mdi-"+a))])],1)})),0),e("div",{staticClass:"budget-container pa-2",style:t.budgetOnDisplay},t._l(t.budgetScale,(function(a){return e("div",{key:a},[a<=t.budgetValue?e(f.Z,{staticClass:"mx-5",attrs:{large:"",color:"green"},on:{click:function(e){t.budgetValue=a}}},[t._v("mdi-currency-usd")]):e(f.Z,{staticClass:"mx-5",attrs:{large:"",color:"red"},on:{click:function(e){t.budgetValue=a}}},[t._v("mdi-currency-usd")])],1)})),0)],1)])},y=[];a(7658);class b{constructor(){}static get(t){return localStorage.getItem(t)}static set(t,e){localStorage.setItem(t,e)}static remove(t){localStorage.removeItem(t)}static clear(){localStorage.clear()}static key(t){return localStorage.key(t)}}function _(t){const e=JSON.parse(localStorage.getItem("recentActivity"))||[];e.push(t),localStorage.setItem("recentActivity",JSON.stringify(e))}function k(){return(JSON.parse(localStorage.getItem("recentActivity"))||[]).reverse()}var x={name:"HomeView",data(){return{autocomplete:void 0,nearby:void 0,user:localStorage.getItem("username"),budgetScale:4,budgetValue:1,showBudget:!1,showTransitMode:!1,transitModes:["airplane","walk","bike","car","bus","train"],selectedTransit:"airplane",transitioningLocation:!1,scaleStyle:{},resCount:0}},created(){document.title="TravelApp"},async mounted(){await new Promise((t=>setTimeout((()=>t()),500))),this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete")),b.set("Restaurants0",""),b.set("Restaurants1",""),b.set("Restaurants2",""),google.maps.event.addListener(this.autocomplete,"place_changed",(()=>{const t=this.autocomplete.getPlace(),e=t.geometry.location.lat(),a=t.geometry.location.lng();_({name:t.name,lat:e,lng:a}),b.set("Latitude",e),b.set("Longitude",a),b.set("Website",t.website);let s=new google.maps.Map(document.getElementById("autocomplete")),r=new google.maps.places.PlacesService(s),i={location:new google.maps.LatLng(this.lat,this.lng),radius:"1000",type:["restaurant"]};this.findNearby(r,i),this.transitioningLocation=!0,setTimeout((()=>{this.$router.push({name:"search",query:{place:t.name,lat:e,lng:a,budget:this.budgetValue,transit:this.selectedTransit}})}),1500)}))},computed:{budget:{get(){return b.get("Budget")},set(t){b.set("Budget",t)}},budgetOnDisplay(){return this.showBudget?{transform:"translateY(-140%)"}:{opacity:0}},lat:{get(){return b.get("Latitude")},set(t){b.set("Latitude",t)}},lng:{get(){return b.get("Longitude")},set(t){b.set("Longitude",t)}},transitOnDisplay(){return this.showTransitMode?{transform:"translateY(-280%)"}:{opacity:0}}},methods:{login(){this.$router.push({name:"login"})},profile(){this.$router.push({name:"profile"})},findNearby(t,e){t.nearbySearch(e,((t,e,a)=>{e==google.maps.places.PlacesServiceStatus.OK&&(b.set(`Restaurants${this.resCount}`,JSON.stringify(t)),this.resCount++),a&&a.hasNextPage&&a.nextPage()}))}},watch:{transitioningLocation(t){t&&setTimeout((()=>{this.scaleStyle={transform:"scale(510)"}}),500)}}},S=x,C=(0,c.Z)(S,v,y,!1,null,"6a9c2929",null),Z=C.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"background-container"},[t.introPlaying?t._e():e("SidePanel",{attrs:{showSidePanel:t.showSidePanel,place:t.place,budget:t.budget,transit:t.transit,distance:t.distance,weather:t.weather},on:{"toggle-side-panel":function(e){t.showSidePanel=!t.showSidePanel},"toggle-forecast":function(e){t.showForecast=!t.showForecast}}}),t.introPlaying?t._e():e("WeatherCard",{staticClass:"weather-forecast",attrs:{showForecast:t.showForecast},on:{"toggle-forecast":function(e){t.showForecast=!t.showForecast}}}),e("GmapMap",{staticClass:"map-cover",style:t.mapStyles,attrs:{center:{lat:t.lat,lng:t.lng},zoom:14,options:t.options}},t._l(t.markers,(function(a,s){return e("GmapMarker",{key:s,attrs:{position:a.position},on:{click:function(e){t.center=t.m.position}}})})),1)],1)},L=[],M=a(2515),I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"side-panel-container",style:t.sidePanelWidth},[e("div",{staticClass:"home-btn d-flex align-center px-5 py-1",on:{click:function(e){return t.$router.push({name:"home"})}}},[e(f.Z,{staticClass:"home-btn-arrow mr-1",attrs:{small:""}},[t._v("mdi-arrow-left")]),e("div",{staticClass:"home-btn-text text-p"},[t._v(" Search Again ")])],1),e("div",{staticClass:"side-panel px-5 py-12",staticStyle:{display:"flex","flex-direction":"column"}},[e("div",{staticClass:"mb-5"},[e("div",{staticClass:"text-h5",staticStyle:{"font-weight":"300"}},[t._v(" Let's Explore ")]),e("div",{staticClass:"text-h3 font-weight-black",staticStyle:{display:"flex","align-items":"center"}},[e(f.Z,{staticClass:"mr-2",attrs:{"x-large":"",color:"black"}},[t._v("mdi-bullseye")]),t._v(" "+t._s(t.place)+" ")],1)]),t.distance?e("div",{staticClass:"mb-5"},[e("div",{staticClass:"text-h5",staticStyle:{"font-weight":"300"}},[t._v(" Distance From You ")]),e("div",{staticClass:"text-h3 font-weight-black",staticStyle:{display:"flex","align-items":"center"}},[e(f.Z,{staticClass:"mr-2",attrs:{"x-large":"",color:"black"}},[t._v("mdi-map-marker-distance")]),t._v(" "+t._s(t.distance)+"km ")],1)]):t._e(),t.budget?e("div",{staticClass:"mb-5"},[e("div",{staticClass:"text-h5",staticStyle:{"font-weight":"300"}},[t._v(" Budget ")]),e("div",{staticClass:"text-h3 font-weight-black",staticStyle:{display:"flex","align-items":"center"}},[t._v(" "+t._s(t.budgetDisplay)+" ")])]):t._e(),e("div",{staticClass:"mb-5"},[e("div",{staticClass:"text-h5",staticStyle:{"font-weight":"300"}},[t._v(" Current Weather ")]),e("div",{staticClass:"text-h3 font-weight-black",staticStyle:{display:"flex","align-items":"center"}},[e(f.Z,{staticClass:"mr-2",attrs:{"x-large":"",color:"black"}},[t._v(t._s(t.weather.icon))]),t._v(" "+t._s(t.weather.temp)+"Â°C ")],1),e(p.Z,{staticClass:"text-h6font-weight-black",attrs:{text:""},on:{click:t.showForecast}},[t._v(" WEEKLY FORECAST ")])],1),t.transit?e("div",{staticClass:"mb-5"},[e("div",{staticClass:"text-h5",staticStyle:{"font-weight":"300"}},[t._v(" Preferred Mode of Transit ")]),e("div",{staticClass:"text-capitalize text-h3 font-weight-black",staticStyle:{display:"flex","align-items":"center"}},[e(f.Z,{staticClass:"mr-2",attrs:{"x-large":"",color:"black"}},[t._v("mdi-"+t._s(t.transit))]),t._v(" "+t._s(t.transit)+" ")],1)]):t._e(),e(M.Z),t.partnerLink?e(p.Z,{staticClass:"text-h6 px-5 py-7 font-weight-black mb-4",attrs:{color:"success"},on:{click:t.openPartnerLink}},[t._v(" Start Your Journey Now ")]):t._e(),e(p.Z,{staticClass:"text-h6 px-5 py-7 font-weight-black",attrs:{color:"secondary"},on:{click:t.openGoogleMaps}},[t._v(" take a look on google maps ")]),e("br"),t._m(0)],1),e("div",{staticClass:"close-open-btn-container center",on:{click:t.toggleSidePanel}},[e(f.Z,{attrs:{large:""}},[t._v(" "+t._s(t.showSidePanel?"mdi-chevron-left":"mdi-chevron-right")+" ")])],1)])},$=[function(){var t=this,e=t._self._c;return e("p",[t._v(" Visit the location's "),e("a",{attrs:{id:"site-link",target:"_blank"}},[t._v("website")])])}],R={props:{showSidePanel:{type:Boolean,required:!0},place:String,budget:String,transit:String,distance:Number,weather:Object},emits:["toggle-side-panel","toggle-forecast"],methods:{toggleSidePanel(){this.$emit("toggle-side-panel")},openGoogleMaps(){console.log(this.googleMapsLink),window.open(this.googleMapsLink,"_blank")},openPartnerLink(){window.open(this.partnerLink,"_blank")},showForecast(){this.$emit("toggle-forecast")}},mounted(){document.getElementById("site-link").href=this.website},computed:{googleMapsLink(){let t=()=>{switch(this.transit){case"walk":return"data=!3m1!4b1!4m2!4m1!3e2";case"car":return"data=!3m1!4b1!4m2!4m1!3e0";case"train":return"data=!3m1!4b1!4m2!4m1!3e3";case"bus":return"data=!3m1!4b1!4m2!4m1!3e3";case"airplane":return"data=!3m1!4b1!4m2!4m1!3e4";case"bike":return"data=!3m1!4b1!4m2!4m1!3e1";default:return""}};const e=`${localStorage.getItem("startingLat")},${localStorage.getItem("startingLng")}`,a=`${this.$route.query.lat},${this.$route.query.lng}`;return`https://www.google.com/maps/dir/${e}/${a}/${t()}`},partnerLink(){switch(this.transit){case"walk":return"";case"car":return"https://cars.wanderu.com/";case"train":return"https://www.wanderu.com/en-us/train-tickets/";case"bus":return"https://www.wanderu.com/en-us/bus-tickets/";case"airplane":return"https://www.expedia.com/Flights";case"bike":return"";default:return""}},sidePanelWidth(){return{transform:this.showSidePanel?"translateX(0)":"translateX(-380px)"}},budgetDisplay(){let t="";for(let e=0;e<this.budget;e++)t+="$";return t},locSite(){return Storage.get("Website")}}},T=R,O=(0,c.Z)(T,I,$,!1,null,"50e0c0ab",null),N=O.exports,E=a(7179),F=a(3816),B=a(5255),q=a(7024),D=a(1819),A=a(7690),W=a(7894),j=a(3845),H=function(){var t=this,e=t._self._c;return e("div",{staticClass:"forecast-page",style:t.forecastPanelHeight},[e(F.Z,{attrs:{color:"rgba(255, 255, 255, 0.75)"}},[e(E.Z,{staticClass:"forecast-nav",attrs:{flat:"",color:"rgba(0, 0, 0, 0)"},on:{click:t.toggleForecast}},[e(f.Z,{staticClass:"forecast-nav-arrow"},[t._v("mdi-chevron-left")]),e(j.qW,{staticClass:"forecast-nav-text text-h6 black--text pl-0"},[t._v(" 5 Day Forecast ")])],1),e(D.Z,{attrs:{fluid:""}},[e(W.Z,{attrs:{dense:""}},t._l(t.weatherList,(function(a,s){return s%8===0?e(q.Z,{key:a.id,attrs:{cols:a.flex}},[e(F.Z,{attrs:{color:"rgba(255, 255, 255, 0.8)"}},[e(B.EB,{staticClass:"text-white text-h5 center",staticStyle:{"font-weight":"300"}},[t._v(t._s(0==s?"Today":t.forecast[s/8]))]),e("div",{staticClass:"center"},[e(f.Z,{staticClass:"mr-2",attrs:{"x-large":"",color:"black"}},[t._v(" "+t._s(t.getIcon(a))+" ")]),e("div",{staticClass:"text-h6"},[t._v(t._s(a.main.temp)+"Â°C")])],1),e("br"),e(A.Z,{staticClass:"mx-4"}),e("br"),e("div",{staticClass:"text-subtitle-1 center"},[t._v(" "+t._s(a.main.temp_min)+"Â° | "+t._s(a.main.temp_max)+"Â° ")]),e("br")],1)],1):t._e()})),1)],1)],1)],1)},V=[],z={data(){return{weather:{},weatherList:[],shortList:[],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],forecast:[]}},props:{showForecast:{type:Boolean,required:!0}},mounted(){this.fetchWeather(),this.findDays()},emits:["toggle-forecast"],methods:{fetchWeather(){fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${this.lat}&lon=${this.lng}&units=metric&APPID=8b81c25b4594c01f9e7d4caec4793f7a`).then((t=>t.json())).then((t=>this.weatherList=t.list)).catch((t=>console.log(t)))},inRange(t,e){return e<t.length},findDays(){let t=new Date;this.forecast[0]=this.days[t.getDay()];let e=this.days.indexOf(this.forecast[0]);for(let a=0;a<=4;a++)this.forecast[a]=this.inRange(this.days,e+a)?this.days[e+a]:this.days[7-a]},toggleForecast(){this.$emit("toggle-forecast")},getIcon(t){let e;switch(t.weather[0].main){case"Rain":e="mdi-weather-pouring";break;case"light rain":e="mdi-weather-rainy";break;case"Clouds":e="mdi-weather-cloudy";break;case"Mist":e="mdi-weather-fog";break;case"Haze":e="mdi-weather-cloudy-alert";break;case"Clear":e="mdi-weather-sunny";break;default:e="mdi-weather-sunny"}return e}},computed:{lat:{get(){return Number(localStorage.getItem("Latitude"))},set(t){localStorage.setItem("Latitude",t)}},lng:{get(){return Number(localStorage.getItem("Longitude"))},set(t){localStorage.setItem("Longitude",t)}},forecastPanelHeight(){return{transform:this.showForecast?"translateY(0)":"translateY(-300px)"}}}},J=z,Y=(0,c.Z)(J,H,V,!1,null,"c55c0080",null),G=Y.exports,K={components:{SidePanel:N,WeatherCard:G},async mounted(){let{lat:t,lng:e,place:a,budget:s,transit:r}=this.$route.query;this.lat=Number(t),this.lng=Number(e),this.place=a,this.budget=s,this.transit=r,this.startingLat=Number(localStorage.getItem("startingLat")),this.startingLng=Number(localStorage.getItem("startingLng")),this.getWeather(),setTimeout((()=>{this.mapStyles={}}),50),setTimeout((()=>{this.introPlaying=!1,setTimeout((()=>{this.showSidePanel=!0}),50)}),650),await new Promise((t=>setTimeout((()=>t()),750))),void 0!=this.restaurants.first&&this.placeMarkers(this.restaurants.first),void 0!=this.restaurants.second&&this.placeMarkers(this.restaurants.second),void 0!=this.restaurants.third&&this.placeMarkers(this.restaurants.third)},data:()=>({place:"",lat:"",lng:"",startingLat:"",startingLng:"",budget:null,transit:null,weather:null,showSidePanel:!1,showForecast:!1,options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1},mapStyles:{height:"0",width:"0",top:"50%",left:"50%"},introPlaying:!0,markers:[]}),methods:{addMarker(t){const e={lat:t.geometry.location.lat,lng:t.geometry.location.lng};this.markers.push({position:e})},placeMarkers(t){let e=0;while(void 0!==t[e])this.addMarker(t[e]),e++},getDistanceFromLatLongInMiles(){let t=3958.8,e=this.deg2rad(this.lat-this.startingLat),a=this.deg2rad(this.lng-this.startingLng),s=Math.sin(e/2)*Math.sin(e/2)+Math.cos(this.deg2rad(this.startingLat))*Math.cos(this.deg2rad(this.lat))*Math.sin(a/2)*Math.sin(a/2),r=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),i=t*r;return i},getDistanceFromLatLngInKm(t,e,a,s){var r=6371,i=this.deg2rad(a-t),o=this.deg2rad(s-e),n=Math.sin(i/2)*Math.sin(i/2)+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(a))*Math.sin(o/2)*Math.sin(o/2),l=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),c=r*l;return Math.round(c)},deg2rad(t){return t*(Math.PI/180)},getWeather(){let t="8b81c25b4594c01f9e7d4caec4793f7a";fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${this.lat}&lon=${this.lng}&units=metric&APPID=${t}`).then((t=>t.json())).then((t=>{let e;switch(t.weather[0].main){case"Rain":e="mdi-weather-pouring";break;case"light rain":e="mdi-weather-rainy";break;case"Clouds":e="mdi-weather-cloudy";break;case"Mist":e="mdi-weather-fog";break;case"Haze":e="mdi-weather-cloudy-alert";break;case"Clear":e="mdi-weather-sunny";break;default:e="mdi-weather-sunny"}this.weather={},this.weather.icon=e,this.weather.temp=t.main.temp}))}},computed:{distance(){return this.getDistanceFromLatLngInKm(this.startingLat,this.startingLng,this.lat,this.lng)},restaurants:{get(){return{first:""!=localStorage.getItem("Restaurants0")?JSON.parse(localStorage.getItem("Restaurants0")):void 0,second:""!=localStorage.getItem("Restaurants1")?JSON.parse(localStorage.getItem("Restaurants1")):void 0,third:""!=localStorage.getItem("Restaurants2")?JSON.parse(localStorage.getItem("Restaurants2")):void 0}}}}},U=K,X=(0,c.Z)(U,P,L,!1,null,"41add9d6",null),Q=X.exports,tt=a(3240),et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-form-container"},[e(F.Z,{staticClass:"card-container pb-2 px-2",attrs:{width:"400",dark:""}},[e(p.Z,{staticStyle:{position:"absolute",left:"0",top:"0"},attrs:{text:""},on:{click:t.home}},[e(f.Z,{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-arrow-left")]),t._v(" Home ")],1),e(B.EB,{staticClass:"center mt-1 mb-3"},[e("h1",[t._v(" Login ")])]),e(B.ZB,[e(tt.Z,{ref:"form",attrs:{"lazy-validation":""}},[e(w.Z,{attrs:{rules:t.nameRules,"prepend-icon":"mdi-account",filled:"",label:"Name"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(w.Z,{attrs:{type:t.showPassword?"text":"password","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",rules:t.passwordRules,"prepend-icon":"mdi-lock",label:"Password",filled:""},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("div",{staticClass:"text-h6 red--text"},[t._v(" "+t._s(t.error)+" ")])],1),e(B.h7,[e(p.Z,{attrs:{color:"primary"},on:{click:t.login}},[t._v(" Login ")]),e(M.Z),e(p.Z,{attrs:{text:""},on:{click:t.register}},[t._v(" Register here ")])],1)],1)],1)},at=[],st={data:()=>({username:"",password:"",showPassword:!1,error:"",nameRules:[t=>!!t||"Name is required"],passwordRules:[t=>!!t||"Password is required"]}),methods:{login(){this.$refs.form.validate()&&this.axios.post("/api/auth/login",{username:this.username,password:this.password}).then((t=>{console.log(t.data),t.data.authed?(localStorage.setItem("username",this.username),this.$router.push({name:"home"})):this.error="Invalid username or password"})).catch((t=>{console.log(t)}))},register(){this.$router.push({name:"register"})},home(){this.$router.push({name:"home"})}},watch:{error(){this.error&&setTimeout((()=>{this.error=""}),3e3)}}},rt=st,it=(0,c.Z)(rt,et,at,!1,null,"4ffaf0a6",null),ot=it.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"register-form-container"},[e(F.Z,{staticClass:"card-container pb-2 px-2",attrs:{width:"400",dark:""}},[e(p.Z,{staticStyle:{position:"absolute",left:"0",top:"0"},attrs:{text:""},on:{click:t.home}},[e(f.Z,{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-arrow-left")]),t._v(" Home ")],1),e(B.EB,{staticClass:"center mb-3"},[e("h1",[t._v(" Register ")])]),e(B.ZB,[e(tt.Z,{ref:"form",attrs:{"lazy-validation":""}},[e(w.Z,{attrs:{rules:t.nameRules,label:"Name","prepend-icon":"mdi-account",filled:"",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e(w.Z,{attrs:{rules:t.emailRules,label:"E-mail","prepend-icon":"mdi-email",required:"",filled:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(w.Z,{attrs:{"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",rules:t.passwordRules,type:t.showPassword?"text":"password",label:"Password","prepend-icon":"mdi-lock",filled:"",required:""},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(w.Z,{attrs:{rules:t.password2Rules,type:t.showPassword?"text":"password",label:"Re-enter Password",required:"","prepend-icon":"mdi-redo-variant",filled:""},on:{"click:append":function(e){t.showPassword2=!t.showPassword2}},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}})],1),e("div",{staticClass:"text-h6 red--text"},[t._v(" "+t._s(t.error)+" ")])],1),e(B.h7,[e(p.Z,{attrs:{color:"primary"},on:{click:t.register}},[t._v(" Register ")]),e(M.Z),e(p.Z,{attrs:{text:""},on:{click:t.login}},[t._v(" Login here ")])],1)],1)],1)},lt=[],ct={data(){return{name:"",nameRules:[t=>!!t||"Name is required",t=>t&&t.length<=10||"Name must be less than 10 characters"],email:"",emailRules:[t=>!!t||"E-mail is required",t=>/.+@.+\..+/.test(t)||"E-mail must be valid"],password:"",passwordRules:[t=>!!t||"Password is required",t=>t&&t.length>=6||"Password must be greater than 6 characters"],showPassword:!1,password2:"",password2Rules:[t=>t===this.password||"Passwords must match"],error:""}},methods:{register(){this.$refs.form.validate()&&this.axios.post("/api/auth/register",{username:this.name,email:this.email,password:this.password}).then((t=>{t.data.user?(console.log(t.data.user),this.$router.push({name:"login"})):this.error=t.data.error})).catch((t=>{console.log(t)}))},login(){this.$router.push({name:"login"})},home(){this.$router.push({name:"home"})}},watch:{name(){this.error=""},email(){this.error=""},password(){this.error=""},password2(){this.error=""},error(t){t&&setTimeout((()=>{this.error=""}),3e3)}}},dt=ct,ut=(0,c.Z)(dt,nt,lt,!1,null,"7f9c1965",null),ht=ut.exports,mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile-container"},[e("div",{staticClass:"title-card-container"},[e("div",{staticClass:"text-h5 font-weight-black white--text"},[t._v(" Your Profile: ")]),e(F.Z,{staticClass:"card-container pb-2 px-2",attrs:{width:"400",dark:""}},[e("h1",{staticClass:"text-h3 font-weight-black my-5"},[t._v(" "+t._s(t.user)+" ")]),e("div",{staticClass:"recent-activity-feed mb-5"},[e("div",{staticClass:"text-h5 font-weight-black center"},[t._v(" Recent Searches: ")]),e("div",{staticClass:"recent-activity-feed-container"},[t._l(t.recentActivity,(function(a){return e("div",{key:a.id},[e("div",{staticClass:"center search-item",staticStyle:{cursor:"pointer"}},[e(f.Z,{attrs:{color:"info"}},[t._v(" mdi-map-marker ")]),e("b",{on:{click:function(e){return t.redirectToSearch(a)}}},[t._v(" "+t._s(a.name)+" ")])],1)])})),t.recentActivity.length?e("div",{staticClass:"red--text text-p font-weight-black center mt-2 delete-search-history",staticStyle:{cursor:"pointer"},on:{click:t.deleteSearchHistory}},[t._v(" Delete Search History ")]):e("div",{staticClass:"red--text text-p font-weight-black center"},[t._v(" No Recent Searches ")])],2)]),e("div",{staticClass:"text-h6 font-weight-black"},[t._v(" Registered Email Address: ")]),e("p",[t._v(" "+t._s(t.email)+" ")]),e(B.h7,{staticClass:"card-actions"},[e(p.Z,{attrs:{text:""},on:{click:t.back}},[e(f.Z,{staticClass:"mr-2"},[t._v("mdi-arrow-left")]),t._v(" Back ")],1),e(M.Z),e(p.Z,{attrs:{color:"error",text:""},on:{click:t.logout}},[e(f.Z,{staticClass:"mr-2"},[t._v("mdi-account-off")]),t._v(" Log Out ")],1)],1)],1)],1)])},gt=[],pt={data(){return{user:localStorage.getItem("username"),email:"fetching..."}},mounted(){this.axios.get("/api/auth/email/"+this.user).then((t=>{console.log(t.data),t.data?.message?this.email="Email Not Found":this.email=t.data.email})).catch((t=>{console.warn(t)}))},computed:{recentActivity(){return k()}},methods:{logout(){localStorage.clear(),this.$router.push({name:"home"})},back(){this.$router.push({name:"home"})},redirectToSearch(t){this.$router.push({name:"getmethere",query:{place:t.name,lat:t.lat,lng:t.lng}})},deleteSearchHistory(){localStorage.removeItem("recentActivity"),this.$router.go()}}},ft=pt,wt=(0,c.Z)(ft,mt,gt,!1,null,"23e0e604",null),vt=wt.exports,yt=function(){var t=this;t._self._c;return t._m(0)},bt=[function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"center",attrs:{id:"err-num"}},[t._v("404")]),e("p",{staticClass:"center"},[t._v("Whoops! Looks like an error has occurred.")])])}],_t={mounted(){document.title="404",b.set("timesRefreshed",String(Number(b.get("timesRefreshed"))+1)),window.addEventListener("unload",this.goHome())},beforeDestroy(){window.removeEventListener("unload",this.goHome())},methods:{goHome(){let t=Number(b.get("timesRefreshed"));t>=2&&(this.$router.push({name:"home"}),b.set("timesRefreshed","0"))}}},kt=_t,xt=(0,c.Z)(kt,yt,bt,!1,null,"e0e2a6a8",null),St=xt.exports;s.ZP.use(g.ZP);const Ct=[{path:"/",name:"home",component:Z},{path:"/search",name:"search",component:Q},{path:"/login",name:"login",component:ot},{path:"/register",name:"register",component:ht},{path:"/profile",name:"profile",component:vt},{path:"/*",name:"404",component:St}],Zt=new g.ZP({mode:"history",base:"/",routes:Ct});var Pt=Zt,Lt=a(6292),Mt=a(594),It=a(2346);s.ZP.config.productionTip=!1,s.ZP.use(Lt,{load:{key:"AIzaSyCVIPBOnwLEp4CedTebu3hjBnVMWaWyhp0",libraries:"places"}}),s.ZP.use(It.Z,Mt.Z),new s.ZP({vuetify:m,router:Pt,render:t=>t(u)}).$mount("#app")}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var i=e[s]={id:s,loaded:!1,exports:{}};return t[s](i,i.exports,a),i.loaded=!0,i.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,s,r,i){if(!s){var o=1/0;for(d=0;d<t.length;d++){s=t[d][0],r=t[d][1],i=t[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(n=!1,i<o&&(o=i));if(n){t.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[s,r,i]}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,i,o=s[0],n=s[1],l=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(l)var d=l(a)}for(e&&e(s);c<o.length;c++)i=o[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},s=self["webpackChunktravelapp"]=self["webpackChunktravelapp"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(7062)}));s=a.O(s)})();
//# sourceMappingURL=app.d6739b51.js.map